{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module that provides functions for managing a shopping cart, including retrieving, adding, updating, and removing items, as well as calculating totals. It interacts with repository modules for cart and product data.", "external_files": ["../repositories/carts.repo.js", "../repositories/products.repo.js"], "external_methods": ["CartsRepo.getOrCreateCart", "CartsRepo.getCartItems", "CartsRepo.addItem", "CartsRepo.updateItem", "CartsRepo.removeItem", "ProductsRepo.getById"], "published": ["getCart", "addToCart", "updateCartItem", "removeFromCart"], "classes": [], "methods": [{"name": "getCart(userId)", "description": "Retrieves the cart and its items for a specific user, along with calculated totals.", "scope": "", "scopeKind": ""}, {"name": "addToCart(userId, productId, quantity)", "description": "Adds a product to the user's cart after validating the product exists.", "scope": "", "scopeKind": ""}, {"name": "updateCartItem(userId, productId, quantity)", "description": "Updates the quantity of a specific product in the user's cart.", "scope": "", "scopeKind": ""}, {"name": "removeFromCart(userId, productId)", "description": "Removes a product from the user's cart.", "scope": "", "scopeKind": ""}, {"name": "calcTotals(items)", "description": "Calculates subtotal, tax, shipping, and total amounts based on cart items.", "scope": "", "scopeKind": ""}], "calls": ["CartsRepo.getOrCreateCart", "CartsRepo.getCartItems", "CartsRepo.addItem", "CartsRepo.updateItem", "CartsRepo.removeItem", "ProductsRepo.getById"], "search-terms": ["cart management functions", "cart service", "cart module", "shopping cart functions", "cart repository integration"], "state": 2, "file_id": 21, "knowledge_revision": 47, "git_revision": "", "ctags": [{"_type": "tag", "name": "addToCart", "path": "/home/kavia/workspace/code-generation/detox-in-e-commerce-platform-131676-131686/detox_in_backend/src/services/cart.service.js", "pattern": "/^export function addToCart(userId, productId, quantity) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, productId, quantity)"}, {"_type": "tag", "name": "calcTotals", "path": "/home/kavia/workspace/code-generation/detox-in-e-commerce-platform-131676-131686/detox_in_backend/src/services/cart.service.js", "pattern": "/^function calcTotals(items) {$/", "language": "JavaScript", "kind": "function", "signature": "(items)"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/detox-in-e-commerce-platform-131676-131686/detox_in_backend/src/services/cart.service.js", "pattern": "/^export function getCart(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "removeFromCart", "path": "/home/kavia/workspace/code-generation/detox-in-e-commerce-platform-131676-131686/detox_in_backend/src/services/cart.service.js", "pattern": "/^export function removeFromCart(userId, productId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, productId)"}, {"_type": "tag", "name": "updateCartItem", "path": "/home/kavia/workspace/code-generation/detox-in-e-commerce-platform-131676-131686/detox_in_backend/src/services/cart.service.js", "pattern": "/^export function updateCartItem(userId, productId, quantity) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, productId, quantity)"}], "hash": "b4a65206f07cbc1e84e540d60f0610b7", "format-version": 4, "code-base-name": "detox_in_backend", "filename": "detox_in_backend/src/services/cart.service.js", "revision_history": [{"47": ""}]}